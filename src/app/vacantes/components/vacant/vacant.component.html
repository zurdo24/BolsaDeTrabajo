<app-header [title]="'Vacante'" [backbuttonhref]="backbuttonhref"  [backbutton]="true"></app-header>

<ion-content class="ion-padding">
  <div *ngIf="show != false">
		<img *ngIf="logo != null" src={{logo}} style="margin-left:auto;  margin-right:auto;  display:block;"  />
	            
	    <h3 style="text-align: center;">
	    	<b> {{job_opening.job_title}} </b>
	    </h3>


    <ion-row>
      <ion-col width-50  align= "center" >
        <span  align="center" *ngFor="let i of chipStatus" >
        <ion-chip color="blue"   *ngIf="i.type == 'invitation'" (click)="presentToast(i.type)">
          <ion-label>Invitado</ion-label>
        </ion-chip>
        <ion-chip color="secondary"   *ngIf="i.type == 'application'" (click)="presentToast(i.type)">
          <ion-label>Postulado</ion-label>
        </ion-chip>
        <ion-chip color="warning"  *ngIf="i.type == 'hiring'" (click)="presentToast(i.type)">
          <ion-label>Contratado</ion-label>
        </ion-chip>
        </span> 
      </ion-col>
    </ion-row>
      <!-- <ion-item   align="center"> -->
        
      <!-- </ion-item> -->
 
 

	    <ion-list >
	    	 <ion-list-header> <h2> DATOS DE LA ORGANIZACION</h2> </ion-list-header>
			
	    	<ion-item *ngIf="organization.commercial_name != null && organization.commercial_name != undefined">
            	<ion-icon slot="start" name="people-outline" color="blue"></ion-icon>
              	<p>
	                <b>Organizacón:</b> {{organization.commercial_name}}
    	        </p>
        	</ion-item>
        	<ion-item *ngIf="organization.description != null && organization.description != undefined">
              	<ion-icon slot="start" align= "justify" name="newspaper-outline" color="blue"></ion-icon>
              	<p  *ngIf="organization.description != null">
	                {{organization.description}}
              	</p>
        	</ion-item> 
        </ion-list>
<!-- ==================================================================== -->
        <ion-list >
        	<ion-list-header> <h2>DATOS DEL EMPLEO</h2> </ion-list-header>
			 
	    	<ion-item *ngIf="job_type.type != null && job_type.type != undefined" >
              	<ion-icon slot="start" name="time-outline" color="blue"></ion-icon>
              	<p >
	                <b>Tipo de empleo:</b> {{job_type.type}}
    	        </p>
        	</ion-item>
        	<ion-item >
              	<ion-icon slot="start" name="newspaper-outline" color="blue"></ion-icon>
              	<p  align= "justify">
	                <b>Descripción:</b> {{job_opening.description}}
              	</p>
        	</ion-item> 
        	<ion-item *ngIf="country != null">
              	<ion-icon slot="start" name="pin" color="blue"></ion-icon>
              	<p>
	                <b>Ubicación:</b> {{city.name}}, {{state.name}}, {{country.name}}
              	</p>
        	</ion-item> 
        	<ion-item >
              	<ion-icon slot="start" name="people" color="blue"></ion-icon>
              	<p>
	                <b>Número de vacantes:</b> {{job_opening.openings}}
              	</p>
        	</ion-item> 
        	<ion-item *ngIf="job_opening.social_benefits != null">
              	<ion-icon slot="start" name="clipboard" color="blue"></ion-icon>
              	<p><b>Prestaciones:</b> {{job_opening.social_benefits}}</p>
        	</ion-item> 
        	<ion-item *ngIf="job_opening.salary != null">
              	<ion-icon slot="start" name="logo-usd" color="blue"></ion-icon>
              	<p>
	                <b>Sueldo mensual:</b> {{job_opening.salary}}
              	</p>
        	</ion-item> 
        </ion-list>
<!-- ==================================================================== -->
        <ion-list >
        	<ion-list-header> <h2>REQUISITOS</h2> </ion-list-header>
			
	    	<ion-item *ngIf="subjectArea != null">
              	<!-- <ion-icon slot="start" name="md-contact" color="blue"></ion-icon> -->
              	<p>
	                <b>Área de estudio:</b> {{subjectArea.name}}
    	        </p>
        	</ion-item>
        	<div *ngIf="openingProgramme != undefined && openingProgramme[0] !=null">
        	<ion-item >
             	<ion-icon name="book" color="blue"></ion-icon>
        		<h4><b>&nbsp;&nbsp;Planes de estudio </b></h4>
        	</ion-item>
        	<p  *ngFor="let i of openingProgramme; let indice=index" class="ion-no-padding">
	                 &nbsp;{{indice+1}}. {{i.name}} <br>
        	</p>
        	</div>

        	<div *ngIf="openingSkill != undefined && openingSkill[0] != null">
        		<ion-item >
            		<ion-icon  name="happy" color="blue"></ion-icon>
	        		<h4><b>&nbsp;&nbsp;Actitudes </b> </h4>
        		</ion-item>
        		<p  *ngFor="let i of openingSkill; let indice=index">
	                &nbsp;{{indice+1}}. {{i.skill}}<br>
        		</p>
        	</div>

        	<div *ngIf="openingLanguage != undefined && openingLanguage[0] != null ">
        	<ion-item >
            	<ion-icon  name="chatboxes" color="blue"></ion-icon>
        		<h4><b>&nbsp;&nbsp;Idiomas </b> </h4>
        	</ion-item>
        	<p  *ngFor="let i of openingLanguage; let indice=index">
	                &nbsp;{{indice+1}}. {{i.language}}, {{i.level}}<br>
        	</p>
        	</div>

        	<ion-item >
              	<ion-icon slot="start" name="calendar" color="blue"></ion-icon>
              	<span *ngIf="job_opening.years_experience != null"><b>Años de experiencia:</b> {{job_opening.years_experience}}</span>
				<span *ngIf="job_opening.years_experience == null"><b>Años de experiencia:</b> 0</span>	                
        	</ion-item> 

        	<div *ngIf="job_opening.comments != null">
        	<ion-item>
              	<ion-icon slot="start" name="text" color="blue"></ion-icon>
              	<b>comentarios:</b>
        	</ion-item> 
        	<p  align= "left"> {{job_opening.comments}}
        	</p>
        	</div>
        </ion-list>
<!-- ==================================================================== -->
        <ion-list >
        	<ion-list-header> <h2>DATOS DE LA PUBLICACIÓN</h2> </ion-list-header>
	 
        	
        	<ion-item >
              	<ion-icon slot="start" name="calendar" color="blue"></ion-icon>
              	<span *ngIf="job_opening.date_post != null"><b>Fecha de publicación:</b>  <br>{{job_opening.date_post}}
              	</span>
        	</ion-item> 
        	<ion-item >
              	<ion-icon slot="start" name="calendar" color="blue"></ion-icon>
              	<span *ngIf="job_opening.date_expire != null"><b>Fecha de vencimiento:</b>  <br>{{job_opening.date_expire}}
              	</span>
        	</ion-item> 
        	<ion-item >
              	<ion-icon slot="start" name="calendar" color="blue"></ion-icon>
              	<span *ngIf="job_opening.status_id == 1"><b>Estado de la vacante:</b> <br>abierto</span>
              	<span *ngIf="job_opening.status_id == 2"><b>Estado de la vacante:</b> <br>cerrado</span>
              	<span *ngIf="job_opening.status_id == 3"><b>Estado de la vacante:</b> <br>ocupado</span>
              	<span *ngIf="job_opening.status_id == 4"><b>Estado de la vacante:</b> <br>
Ocupado fuera</span>
              	<span *ngIf="job_opening.status_id == 5"><b>Estado de la vacante:</b> <br>ocupado dentro</span>

              	<span *ngIf="job_opening.status_id == 6"><b>Estado de la vacante:</b> <br>cerrado por el contacto</span>
              	<!-- <span *ngIf=" job_opening.status != 1 || job_opening.status != 2 || job_opening.status != 3 || job_opening.status != 4 || job_opening.status != 5 || job_opening.status != 6"><b>Estado de la vacante:</b> {{jobStatus.status}} -->
              	
        	</ion-item> 

        </ion-list>
<!-- ------------------------------------------------------------------- -->
<div *ngIf="canApplication == true">
 <form [formGroup]="addMessage"  >
 		  <h2 align="center">POSTULARSE</h2>  
		<ion-item>   
	  		<ion-textarea auto-grow=true rows="6" cols="20"  formControlName="text" placeholder="Escribe un mensaje..."></ion-textarea>
		</ion-item>
</form>
<!-- <ion-button  [ngClass]="{'button-disabled': addData.invalid}" color="blue" type="submit" 
	    	 		(click)= "addCourse()" size="large">Aceptar</ion-button> -->

 		<ion-row>
    		<ion-col width-50  align= "center" >
	    		<ion-button  [ngClass]="{'button-disabled': addMessage.invalid}" class="blue-btn" type="submit" 
	    	 		(click)= "send()" size="large">Enviar</ion-button>		
			</ion-col>
		</ion-row>
</div>







<!-- ======================== SKELETON ============================ -->
	</div>



	<div *ngIf="show == false">
 
	
	<h3 style="text-align: center;"><ion-skeleton-text  style="width: 160px; height: 160px;margin-left:auto;  margin-right:auto;  display:block; "></ion-skeleton-text></h3>
 	<h3 style="text-align: center;"><ion-skeleton-text animated style="width: 90%; height: 20px; margin-left:auto;  margin-right:auto;  display:block;"></ion-skeleton-text></h3>
	
 
	<ion-list>
		<ion-item  >
			<ion-label>
				<ion-skeleton-text animated style="width: 70%"></ion-skeleton-text>
				<ion-skeleton-text animated style="width: 50%"></ion-skeleton-text>	
				<ion-skeleton-text animated style="width: 80%"></ion-skeleton-text>
 			</ion-label>
		</ion-item>
	</ion-list>
	<ion-list >
		<ion-skeleton-text animated style="width: 40%; height: 20px"></ion-skeleton-text>
		<ion-item >
              <ion-skeleton-text  slot="start" style="width: 25px; height: 25px"></ion-skeleton-text>
              <ion-label>
                <ion-skeleton-text animated style="width: 70%"></ion-skeleton-text>
              </ion-label>
        </ion-item>
        <ion-item >
              <ion-skeleton-text  slot="start" style="width: 25px; height: 25px"></ion-skeleton-text>
              <ion-label>
               	<ion-skeleton-text animated style="width: 65%"></ion-skeleton-text>
              </ion-label>
        </ion-item>
        <ion-item >
              <ion-skeleton-text  slot="start" style="width: 25px; height: 25px"></ion-skeleton-text>
              <ion-label>
                <ion-skeleton-text animated style="width: 80%"></ion-skeleton-text>
              </ion-label>
        </ion-item>
	</ion-list>

	<ion-list >
		<ion-skeleton-text animated style="width: 40%; height: 20px"></ion-skeleton-text>
		<ion-item >
              <ion-skeleton-text  slot="start" style="width: 25px; height: 25px"></ion-skeleton-text>
              <ion-label>
                <ion-skeleton-text animated style="width: 70%"></ion-skeleton-text>
              </ion-label>
        </ion-item>
        <ion-item >
              <ion-skeleton-text  slot="start" style="width: 25px; height: 25px"></ion-skeleton-text>
              <ion-label>
               	<ion-skeleton-text animated style="width: 50%"></ion-skeleton-text>
              </ion-label>
        </ion-item>
        <ion-item >
              <ion-skeleton-text  slot="start" style="width: 25px; height: 25px"></ion-skeleton-text>
              <ion-label>
                <ion-skeleton-text animated style="width: 60%"></ion-skeleton-text>
              </ion-label>
        </ion-item>
	</ion-list>
	</div>
</ion-content>